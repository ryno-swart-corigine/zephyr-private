/* SPDX-License-Identifier: Apache-2.0 */

/dts-v1/;
#include <mem.h>
// #include <dt-bindings/timer/riscv-machine-timer.h>
// #include <dt-bindings/i2c/i2c.h>

/ {
	#address-cells = < 0x01 >;
	#size-cells = < 0x01 >;
	compatible = "eswin e330";
	model = "Eswin, E330";

	flash@60000000 {
		bank-width = < 0x04 >;
		reg = < 0x60000000 0x2000000 0x62000000 0x2000000 >;
		compatible = "cfi-flash";
	};

	cpus {
		#address-cells = < 0x01 >;
		#size-cells = < 0x00 >;
		timebase-frequency = < 20000000 >;

		cpu: cpu@0 {
			device_type = "cpu";
			reg = < 0x00 >;
			status = "okay";
			compatible = "riscv";
			device_type = "cpu";
			d-cache-block-size = <32>;
			d-cache-sets = <1024>;
			d-cache-size = <131072>;

			i-cache-block-size = <32>;
			i-cache-sets = <2048>;
			i-cache-size = <131072>;
		};

	};

	ddr: memory@20000000 {
		device_type = "memory";
		reg = < 0x20000000 0x10000000 >;
	};

	apb_mem: memory@8B000000 {
		device_type = "memory";
		reg = < 0x8B000000 0x1000 >;
	};

	ahb_mem: memory@8A000000 {
		device_type = "memory";
		reg = < 0x8A000000 0x1000 >;
	};

	axi_mem: memory@8C000000 {
		device_type = "memory";
		reg = < 0x8C000000 0x1000000 >;
	};

	soc {
		#address-cells = < 0x01 >;
		#size-cells = < 0x01 >;
		compatible = "simple-bus";
		ranges;

		itcm: memory@1c000000 {
			reg = < 0x1c000000 0x10000 >;
			zephyr,memory-region = "ITCM";
			compatible = "riscv,itcm";
			reg-names = "mem";
		};

		dtcm: memory@1e000000 {
			compatible = "riscv,dtcm";
			zephyr,memory-region = "DTCM";
			reg = < 0x1e000000 0x10000 >;
			reg-names = "mem";
		};

		soc_version: version@8003c000 {
			compatible = "eswin,soc_version";
			reg = < 0x8003C000 0x10 >;
			label = "SOC_VERSION";
		};

		cpu_freq: cpu_freq@8003c010 {
			compatible = "eswin,cpu_freq";
	     	reg = < 0x8003C010 0x4 >;
		 	label = "CPU_FREQ";
		};

		soft_reset: soft_reset@8003c014 {
			compatible = "eswin,soft_reset";
			reg = < 0x8003C014 0x4 >;
		 	label = "SOFT_RESET";
		};

		cs_control: cs_control@8003c01c {
			compatible = "eswin,cs_control";
			reg = < 0x8003C01C 0x4 >;
			label = "CS_CONTROL";
		};

        clic: interrupt-controller@2800000 {
			#interrupt-cells = <2>;
			compatible = "eswin,clic";
			interrupt-controller;
			reg = <
			    0x2800000 0x0080
				0x2800400 0x0080
				0x2800800 0x0080
				0x2800C00 0x0001>;
			label = "ESWIN_CLIC";
		};

		uart0: uart@80036000 {
            compatible = "ns16550", "snps,dw-apb-uart";
            interrupts = <16 1>;
            interrupt-parent = < &clic >;
            clock-frequency = < 10000000 >;
            reg = < 0x80036000 0x2000 >;
            reg-shift = <2>;
            label = "UART_0";
		};

        mtimer: timer@2000000 {
			compatible = "eswin,machine-timer";
			reg = <0x2000000 0x200>;
			interrupts = <7 1>;
			interrupt-parent = <&clic>;
			status = "disabled";
		};

		dw_dma: dw_dma@40030000{
			compatible = "snps,designware-dma";
			interrupts = <19 1>;
			interrupt-parent = < &clic >;
			reg = < 0x40030000 0x6000 >;
			label = "DMA_0";
			#dma-cells = <1>;
			dma-channels = <1>;
		};

		timer0: dw_timer@400a0000 {
			compatible = "snps,dw-apb-timer";
			reg = <0x400a0000 0x14>;
			label = "TIMER_0";
			interrupts = <21 1>;
			interrupt-parent = <&clic>;
			lock-frequency = < 10000000 >;
		};

		timer1: dw_timer@400a0014 {
			compatible = "snps,dw-apb-timer";
			reg = <0x400a0014 0x14>;
			label = "TIMER_1";
			interrupts = <82 1>;
			interrupt-parent = <&clic>;
			clock-frequency = < 10000000 >;
		};

		timer2: dw_timer@400a0028 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a0028 0x14>;
		    label = "TIMER_2";
		    interrupts = <118 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer3: dw_timer@400a003c {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a003C 0x14>;
		    label = "TIMER_3";
		    interrupts = <142 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer4: dw_timer@400a0050 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a0050 0x14>;
		    label = "TIMER_4";
		    interrupts = <183 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer5: dw_timer@400a0064 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a0064 0x14>;
		    label = "TIMER_5";
		    interrupts = <205 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer6: dw_timer@400a0078 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a0078 0x14>;
		    label = "TIMER_6";
		    interrupts = <226 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer7: dw_timer@400a008c {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400a008C 0x14>;
		    label = "TIMER_7";
		    interrupts = <261 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer8: dw_timer@400b0000 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0000 0x14>;
		    label = "TIMER_8";
		    interrupts = <288 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer9: dw_timer@400b0014 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0014 0x14>;
		    label = "TIMER_9";
		    interrupts = <319 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer10: dw_timer@400b0028 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0028 0x14>;
		    label = "TIMER_10";
		    interrupts = <348 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer11: dw_timer@400b003c {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b003C 0x14>;
		    label = "TIMER_11";
		    interrupts = <384 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer12: dw_timer@400b0050 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0050 0x14>;
		    label = "TIMER_12";
		    interrupts = <417 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer13: dw_timer@400b0064 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0064 0x14>;
		    label = "TIMER_13";
		    interrupts = <445 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer14: dw_timer@400b0078 {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b0078 0x14>;
		    label = "TIMER_14";
		    interrupts = <479 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

		timer15: dw_timer@400b008c {
		    compatible = "snps,dw-apb-timer";
		    reg = <0x400b008C 0x14>;
		    label = "TIMER_15";
		    interrupts = <511 1>;
		    interrupt-parent = <&clic>;
		    clock-frequency = < 10000000 >;
		};

	};
};
